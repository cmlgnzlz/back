[2022-11-12T16:00:33.745] [ERROR] error - TypeError: producto.getById is not a function
    at Carrito.addProdByCartId (C:\Users\milog\Documents\32080\index.js:289:46)
    at C:\Users\milog\Documents\32080\index.js:499:11
    at Layer.handle [as handle_request] (C:\Users\milog\Documents\32080\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\milog\Documents\32080\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\milog\Documents\32080\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\milog\Documents\32080\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\milog\Documents\32080\node_modules\express\lib\router\index.js:284:15
    at param (C:\Users\milog\Documents\32080\node_modules\express\lib\router\index.js:365:14)
    at param (C:\Users\milog\Documents\32080\node_modules\express\lib\router\index.js:376:14)
    at param (C:\Users\milog\Documents\32080\node_modules\express\lib\router\index.js:376:14)
[2022-11-12T16:01:58.673] [ERROR] error - TypeError: producto.getById is not a function
    at Carrito.addProdByCartId (C:\Users\milog\Documents\32080\index.js:289:46)
    at C:\Users\milog\Documents\32080\index.js:499:11
    at Layer.handle [as handle_request] (C:\Users\milog\Documents\32080\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\milog\Documents\32080\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\milog\Documents\32080\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\milog\Documents\32080\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\milog\Documents\32080\node_modules\express\lib\router\index.js:284:15
    at param (C:\Users\milog\Documents\32080\node_modules\express\lib\router\index.js:365:14)
    at param (C:\Users\milog\Documents\32080\node_modules\express\lib\router\index.js:376:14)
    at param (C:\Users\milog\Documents\32080\node_modules\express\lib\router\index.js:376:14)
[2022-11-12T16:02:01.048] [ERROR] error - TypeError: producto.getById is not a function
    at Carrito.addProdByCartId (C:\Users\milog\Documents\32080\index.js:289:46)
    at C:\Users\milog\Documents\32080\index.js:499:11
    at Layer.handle [as handle_request] (C:\Users\milog\Documents\32080\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\milog\Documents\32080\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\milog\Documents\32080\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\milog\Documents\32080\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\milog\Documents\32080\node_modules\express\lib\router\index.js:284:15
    at param (C:\Users\milog\Documents\32080\node_modules\express\lib\router\index.js:365:14)
    at param (C:\Users\milog\Documents\32080\node_modules\express\lib\router\index.js:376:14)
    at param (C:\Users\milog\Documents\32080\node_modules\express\lib\router\index.js:376:14)
[2022-11-12T16:02:02.180] [ERROR] error - TypeError: producto.getById is not a function
    at Carrito.addProdByCartId (C:\Users\milog\Documents\32080\index.js:289:46)
    at C:\Users\milog\Documents\32080\index.js:499:11
    at Layer.handle [as handle_request] (C:\Users\milog\Documents\32080\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\milog\Documents\32080\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\milog\Documents\32080\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\milog\Documents\32080\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\milog\Documents\32080\node_modules\express\lib\router\index.js:284:15
    at param (C:\Users\milog\Documents\32080\node_modules\express\lib\router\index.js:365:14)
    at param (C:\Users\milog\Documents\32080\node_modules\express\lib\router\index.js:376:14)
    at param (C:\Users\milog\Documents\32080\node_modules\express\lib\router\index.js:376:14)
[2022-11-12T16:02:25.874] [ERROR] error - TypeError: producto.getById is not a function
    at Carrito.addProdByCartId (C:\Users\milog\Documents\32080\index.js:289:46)
    at C:\Users\milog\Documents\32080\index.js:499:11
    at Layer.handle [as handle_request] (C:\Users\milog\Documents\32080\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\milog\Documents\32080\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\milog\Documents\32080\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\milog\Documents\32080\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\milog\Documents\32080\node_modules\express\lib\router\index.js:284:15
    at param (C:\Users\milog\Documents\32080\node_modules\express\lib\router\index.js:365:14)
    at param (C:\Users\milog\Documents\32080\node_modules\express\lib\router\index.js:376:14)
    at param (C:\Users\milog\Documents\32080\node_modules\express\lib\router\index.js:376:14)
[2022-11-12T16:02:26.992] [ERROR] error - TypeError: producto.getById is not a function
    at Carrito.addProdByCartId (C:\Users\milog\Documents\32080\index.js:289:46)
    at C:\Users\milog\Documents\32080\index.js:499:11
    at Layer.handle [as handle_request] (C:\Users\milog\Documents\32080\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\milog\Documents\32080\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\milog\Documents\32080\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\milog\Documents\32080\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\milog\Documents\32080\node_modules\express\lib\router\index.js:284:15
    at param (C:\Users\milog\Documents\32080\node_modules\express\lib\router\index.js:365:14)
    at param (C:\Users\milog\Documents\32080\node_modules\express\lib\router\index.js:376:14)
    at param (C:\Users\milog\Documents\32080\node_modules\express\lib\router\index.js:376:14)
[2022-11-12T16:02:30.137] [ERROR] error - TypeError: producto.getById is not a function
    at Carrito.addProdByCartId (C:\Users\milog\Documents\32080\index.js:289:46)
    at C:\Users\milog\Documents\32080\index.js:499:11
    at Layer.handle [as handle_request] (C:\Users\milog\Documents\32080\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\milog\Documents\32080\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\milog\Documents\32080\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\milog\Documents\32080\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\milog\Documents\32080\node_modules\express\lib\router\index.js:284:15
    at param (C:\Users\milog\Documents\32080\node_modules\express\lib\router\index.js:365:14)
    at param (C:\Users\milog\Documents\32080\node_modules\express\lib\router\index.js:376:14)
    at param (C:\Users\milog\Documents\32080\node_modules\express\lib\router\index.js:376:14)
[2022-11-12T16:17:52.900] [ERROR] error - TypeError: Cannot read properties of undefined (reading 'val')
    at Carrito.addProdByCartId (C:\Users\milog\Documents\32080\index.js:303:38)
    at C:\Users\milog\Documents\32080\index.js:516:11
    at Layer.handle [as handle_request] (C:\Users\milog\Documents\32080\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\milog\Documents\32080\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\milog\Documents\32080\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\milog\Documents\32080\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\milog\Documents\32080\node_modules\express\lib\router\index.js:284:15
    at param (C:\Users\milog\Documents\32080\node_modules\express\lib\router\index.js:365:14)
    at param (C:\Users\milog\Documents\32080\node_modules\express\lib\router\index.js:376:14)
    at param (C:\Users\milog\Documents\32080\node_modules\express\lib\router\index.js:376:14)
[2022-11-12T16:18:36.941] [ERROR] error - TypeError: Cannot read properties of undefined (reading 'productos')
    at Carrito.addProdByCartId (C:\Users\milog\Documents\32080\index.js:303:38)
    at C:\Users\milog\Documents\32080\index.js:516:11
    at Layer.handle [as handle_request] (C:\Users\milog\Documents\32080\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\milog\Documents\32080\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\milog\Documents\32080\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\milog\Documents\32080\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\milog\Documents\32080\node_modules\express\lib\router\index.js:284:15
    at param (C:\Users\milog\Documents\32080\node_modules\express\lib\router\index.js:365:14)
    at param (C:\Users\milog\Documents\32080\node_modules\express\lib\router\index.js:376:14)
    at param (C:\Users\milog\Documents\32080\node_modules\express\lib\router\index.js:376:14)
[2022-11-12T16:18:45.288] [ERROR] error - TypeError: Cannot read properties of undefined (reading 'productos')
    at Carrito.addProdByCartId (C:\Users\milog\Documents\32080\index.js:303:38)
    at C:\Users\milog\Documents\32080\index.js:516:11
    at Layer.handle [as handle_request] (C:\Users\milog\Documents\32080\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\milog\Documents\32080\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\milog\Documents\32080\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\milog\Documents\32080\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\milog\Documents\32080\node_modules\express\lib\router\index.js:284:15
    at param (C:\Users\milog\Documents\32080\node_modules\express\lib\router\index.js:365:14)
    at param (C:\Users\milog\Documents\32080\node_modules\express\lib\router\index.js:376:14)
    at param (C:\Users\milog\Documents\32080\node_modules\express\lib\router\index.js:376:14)
[2022-11-12T16:20:49.447] [ERROR] error - TypeError: doc.data is not a function
    at Carrito.addProdByCartId (C:\Users\milog\Documents\32080\index.js:303:29)
    at C:\Users\milog\Documents\32080\index.js:516:11
    at Layer.handle [as handle_request] (C:\Users\milog\Documents\32080\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\milog\Documents\32080\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\milog\Documents\32080\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\milog\Documents\32080\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\milog\Documents\32080\node_modules\express\lib\router\index.js:284:15
    at param (C:\Users\milog\Documents\32080\node_modules\express\lib\router\index.js:365:14)
    at param (C:\Users\milog\Documents\32080\node_modules\express\lib\router\index.js:376:14)
    at param (C:\Users\milog\Documents\32080\node_modules\express\lib\router\index.js:376:14)
[2022-11-12T16:21:54.635] [ERROR] error - TypeError: docGet.data is not a function
    at Carrito.addProdByCartId (C:\Users\milog\Documents\32080\index.js:304:32)
    at C:\Users\milog\Documents\32080\index.js:517:11
    at Layer.handle [as handle_request] (C:\Users\milog\Documents\32080\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\milog\Documents\32080\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\milog\Documents\32080\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\milog\Documents\32080\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\milog\Documents\32080\node_modules\express\lib\router\index.js:284:15
    at param (C:\Users\milog\Documents\32080\node_modules\express\lib\router\index.js:365:14)
    at param (C:\Users\milog\Documents\32080\node_modules\express\lib\router\index.js:376:14)
    at param (C:\Users\milog\Documents\32080\node_modules\express\lib\router\index.js:376:14)
[2022-11-12T16:22:43.627] [ERROR] error - TypeError: docGet.data is not a function
    at Carrito.addProdByCartId (C:\Users\milog\Documents\32080\index.js:306:32)
    at C:\Users\milog\Documents\32080\index.js:519:11
    at Layer.handle [as handle_request] (C:\Users\milog\Documents\32080\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\milog\Documents\32080\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\milog\Documents\32080\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\milog\Documents\32080\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\milog\Documents\32080\node_modules\express\lib\router\index.js:284:15
    at param (C:\Users\milog\Documents\32080\node_modules\express\lib\router\index.js:365:14)
    at param (C:\Users\milog\Documents\32080\node_modules\express\lib\router\index.js:376:14)
    at param (C:\Users\milog\Documents\32080\node_modules\express\lib\router\index.js:376:14)
[2022-11-12T16:28:25.994] [ERROR] error - TypeError: Cannot create property 'qty' on string '[{"_id":"6328d8f57247f154e9ad4348","id":1,"name":"Mihai","price":29,"qty":100,"img":"/public/images/1.jpg","desc":"Dolore numquam odit soluta possimus, laboriosam nobis quis iste esse, erat nulla. Sed aliquam nibh eget sem","code":101,"__v":0}]'
    at Carrito.addProdByCartId (C:\Users\milog\Documents\32080\index.js:305:33)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
[2022-11-12T16:29:04.989] [ERROR] error - TypeError: Cannot create property 'qty' on string '[{"_id":"6328d8f57247f154e9ad4348","id":1,"name":"Mihai","price":29,"qty":100,"img":"/public/images/1.jpg","desc":"Dolore numquam odit soluta possimus, laboriosam nobis quis iste esse, erat nulla. Sed aliquam nibh eget sem","code":101,"__v":0}]'
    at Carrito.addProdByCartId (C:\Users\milog\Documents\32080\index.js:305:33)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
[2022-11-12T16:29:25.525] [ERROR] error - Error: Element at index 0 is not a valid array element. Nested arrays are not supported.
    at validateArrayElement (C:\Users\milog\Documents\32080\node_modules\@google-cloud\firestore\build\src\field-value.js:457:15)
    at ArrayUnionTransform.validate (C:\Users\milog\Documents\32080\node_modules\@google-cloud\firestore\build\src\field-value.js:380:13)
    at C:\Users\milog\Documents\32080\node_modules\@google-cloud\firestore\build\src\document.js:858:56
    at Map.forEach (<anonymous>)
    at DocumentTransform.validate (C:\Users\milog\Documents\32080\node_modules\@google-cloud\firestore\build\src\document.js:858:25)
    at WriteBatch.update (C:\Users\milog\Documents\32080\node_modules\@google-cloud\firestore\build\src\write-batch.js:397:19)
    at DocumentReference.update (C:\Users\milog\Documents\32080\node_modules\@google-cloud\firestore\build\src\reference.js:430:14)
    at Carrito.addProdByCartId (C:\Users\milog\Documents\32080\index.js:305:36)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
[2022-11-12T16:43:19.062] [ERROR] error - TypeError: datos.overwrite is not a function
    at Producto.getById (C:\Users\milog\Documents\32080\index.js:234:23)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
[2022-11-12T16:43:30.630] [ERROR] error - TypeError: datos.overwrite is not a function
    at Producto.getById (C:\Users\milog\Documents\32080\index.js:234:23)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
[2022-11-12T16:46:18.451] [ERROR] error - TypeError: datos.toJSON is not a function
    at Producto.getById (C:\Users\milog\Documents\32080\index.js:233:39)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
[2022-11-12T16:48:35.570] [ERROR] error - TypeError: datos.toJSON is not a function
    at Producto.getById (C:\Users\milog\Documents\32080\index.js:233:39)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
[2022-11-12T17:15:10.340] [ERROR] error - ReferenceError: stamp is not defined
    at Carrito.saveNewCart (C:\Users\milog\Documents\32080\index.js:268:38)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
[2022-11-12T17:16:52.964] [ERROR] error - ReferenceError: stamp is not defined
    at Carrito.saveNewCart (C:\Users\milog\Documents\32080\index.js:268:38)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
[2022-11-12T17:18:29.158] [ERROR] error - ReferenceError: stamp is not defined
    at Carrito.saveNewCart (C:\Users\milog\Documents\32080\index.js:268:38)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
[2022-11-12T18:12:52.930] [ERROR] error - ReferenceError: id is not defined
    at Carrito.saveNewCart (C:\Users\milog\Documents\32080\index.js:278:36)
    at C:\Users\milog\Documents\32080\index.js:414:10
    at Layer.handle [as handle_request] (C:\Users\milog\Documents\32080\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\milog\Documents\32080\node_modules\express\lib\router\route.js:144:13)
    at complete (C:\Users\milog\Documents\32080\node_modules\passport\lib\middleware\authenticate.js:268:13)
    at C:\Users\milog\Documents\32080\node_modules\passport\lib\middleware\authenticate.js:275:15
    at pass (C:\Users\milog\Documents\32080\node_modules\passport\lib\authenticator.js:431:14)
    at Authenticator.transformAuthInfo (C:\Users\milog\Documents\32080\node_modules\passport\lib\authenticator.js:453:5)
    at C:\Users\milog\Documents\32080\node_modules\passport\lib\middleware\authenticate.js:272:22
    at C:\Users\milog\Documents\32080\node_modules\passport\lib\http\request.js:52:7
[2022-11-12T18:13:51.910] [ERROR] error - ReferenceError: id is not defined
    at Carrito.saveNewCart (C:\Users\milog\Documents\32080\index.js:278:36)
    at C:\Users\milog\Documents\32080\index.js:414:10
    at Layer.handle [as handle_request] (C:\Users\milog\Documents\32080\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\milog\Documents\32080\node_modules\express\lib\router\route.js:144:13)
    at complete (C:\Users\milog\Documents\32080\node_modules\passport\lib\middleware\authenticate.js:268:13)
    at C:\Users\milog\Documents\32080\node_modules\passport\lib\middleware\authenticate.js:275:15
    at pass (C:\Users\milog\Documents\32080\node_modules\passport\lib\authenticator.js:431:14)
    at Authenticator.transformAuthInfo (C:\Users\milog\Documents\32080\node_modules\passport\lib\authenticator.js:453:5)
    at C:\Users\milog\Documents\32080\node_modules\passport\lib\middleware\authenticate.js:272:22
    at C:\Users\milog\Documents\32080\node_modules\passport\lib\http\request.js:52:7
[2022-11-12T18:16:02.950] [ERROR] error - Error: Value for argument "data" is not a valid Firestore document. Cannot use "undefined" as a Firestore value (found in field "id"). If you want to ignore undefined values, enable `ignoreUndefinedProperties`.
    at validateUserInput (C:\Users\milog\Documents\32080\node_modules\@google-cloud\firestore\build\src\serializer.js:279:19)
    at validateUserInput (C:\Users\milog\Documents\32080\node_modules\@google-cloud\firestore\build\src\serializer.js:271:13)
    at validateDocumentData (C:\Users\milog\Documents\32080\node_modules\@google-cloud\firestore\build\src\write-batch.js:598:40)
    at WriteBatch.create (C:\Users\milog\Documents\32080\node_modules\@google-cloud\firestore\build\src\write-batch.js:150:9)
    at DocumentReference.create (C:\Users\milog\Documents\32080\node_modules\@google-cloud\firestore\build\src\reference.js:318:14)
    at Carrito.saveNewCart (C:\Users\milog\Documents\32080\index.js:280:37)
    at C:\Users\milog\Documents\32080\index.js:415:10
    at Layer.handle [as handle_request] (C:\Users\milog\Documents\32080\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\milog\Documents\32080\node_modules\express\lib\router\route.js:144:13)
    at complete (C:\Users\milog\Documents\32080\node_modules\passport\lib\middleware\authenticate.js:268:13)
[2022-11-12T18:18:15.083] [ERROR] error - Error: Value for argument "data" is not a valid Firestore document. Cannot use "undefined" as a Firestore value (found in field "id"). If you want to ignore undefined values, enable `ignoreUndefinedProperties`.
    at validateUserInput (C:\Users\milog\Documents\32080\node_modules\@google-cloud\firestore\build\src\serializer.js:279:19)
    at validateUserInput (C:\Users\milog\Documents\32080\node_modules\@google-cloud\firestore\build\src\serializer.js:271:13)
    at validateDocumentData (C:\Users\milog\Documents\32080\node_modules\@google-cloud\firestore\build\src\write-batch.js:598:40)
    at WriteBatch.create (C:\Users\milog\Documents\32080\node_modules\@google-cloud\firestore\build\src\write-batch.js:150:9)
    at DocumentReference.create (C:\Users\milog\Documents\32080\node_modules\@google-cloud\firestore\build\src\reference.js:318:14)
    at Carrito.saveNewCart (C:\Users\milog\Documents\32080\index.js:280:37)
    at C:\Users\milog\Documents\32080\index.js:415:10
    at Layer.handle [as handle_request] (C:\Users\milog\Documents\32080\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\milog\Documents\32080\node_modules\express\lib\router\route.js:144:13)
    at complete (C:\Users\milog\Documents\32080\node_modules\passport\lib\middleware\authenticate.js:268:13)
[2022-11-12T18:18:53.129] [ERROR] error - ReferenceError: carro is not defined
    at Carrito.saveNewCart (C:\Users\milog\Documents\32080\index.js:280:26)
    at C:\Users\milog\Documents\32080\index.js:414:10
    at Layer.handle [as handle_request] (C:\Users\milog\Documents\32080\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\milog\Documents\32080\node_modules\express\lib\router\route.js:144:13)
    at complete (C:\Users\milog\Documents\32080\node_modules\passport\lib\middleware\authenticate.js:268:13)
    at C:\Users\milog\Documents\32080\node_modules\passport\lib\middleware\authenticate.js:275:15
    at pass (C:\Users\milog\Documents\32080\node_modules\passport\lib\authenticator.js:431:14)
    at Authenticator.transformAuthInfo (C:\Users\milog\Documents\32080\node_modules\passport\lib\authenticator.js:453:5)
    at C:\Users\milog\Documents\32080\node_modules\passport\lib\middleware\authenticate.js:272:22
    at C:\Users\milog\Documents\32080\node_modules\passport\lib\http\request.js:52:7
[2022-11-12T18:19:35.122] [ERROR] error - ReferenceError: carro is not defined
    at Carrito.saveNewCart (C:\Users\milog\Documents\32080\index.js:280:26)
    at C:\Users\milog\Documents\32080\index.js:414:10
    at Layer.handle [as handle_request] (C:\Users\milog\Documents\32080\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\milog\Documents\32080\node_modules\express\lib\router\route.js:144:13)
    at complete (C:\Users\milog\Documents\32080\node_modules\passport\lib\middleware\authenticate.js:268:13)
    at C:\Users\milog\Documents\32080\node_modules\passport\lib\middleware\authenticate.js:275:15
    at pass (C:\Users\milog\Documents\32080\node_modules\passport\lib\authenticator.js:431:14)
    at Authenticator.transformAuthInfo (C:\Users\milog\Documents\32080\node_modules\passport\lib\authenticator.js:453:5)
    at C:\Users\milog\Documents\32080\node_modules\passport\lib\middleware\authenticate.js:272:22
    at C:\Users\milog\Documents\32080\node_modules\passport\lib\http\request.js:52:7
[2022-11-12T18:31:30.328] [ERROR] error - Error: Value for argument "value" is not a valid query constraint. Cannot use "undefined" as a Firestore value. If you want to ignore undefined values, enable `ignoreUndefinedProperties`.
    at validateUserInput (C:\Users\milog\Documents\32080\node_modules\@google-cloud\firestore\build\src\serializer.js:279:19)
    at validateQueryValue (C:\Users\milog\Documents\32080\node_modules\@google-cloud\firestore\build\src\reference.js:2638:40)
    at CollectionReference.where (C:\Users\milog\Documents\32080\node_modules\@google-cloud\firestore\build\src\reference.js:1141:9)
    at Carrito.getUserInfo (C:\Users\milog\Documents\32080\index.js:318:29)
    at Producto.getAll (C:\Users\milog\Documents\32080\index.js:222:37)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
[2022-11-12T18:32:39.334] [ERROR] error - TypeError: Cannot read properties of undefined (reading 'username')
    at Producto.getAll (C:\Users\milog\Documents\32080\index.js:222:54)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
[2022-11-12T18:33:22.318] [ERROR] error - TypeError: Cannot read properties of undefined (reading 'username')
    at Producto.getAll (C:\Users\milog\Documents\32080\index.js:223:54)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
[2022-11-12T18:33:33.927] [ERROR] error - TypeError: Cannot read properties of undefined (reading 'username')
    at Producto.getAll (C:\Users\milog\Documents\32080\index.js:223:54)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
[2022-11-12T18:33:36.646] [ERROR] error - TypeError: Cannot read properties of undefined (reading 'username')
    at Producto.getAll (C:\Users\milog\Documents\32080\index.js:223:54)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
[2022-11-12T18:33:53.241] [ERROR] error - TypeError: Cannot read properties of undefined (reading 'username')
    at Producto.getAll (C:\Users\milog\Documents\32080\index.js:223:54)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
[2022-11-12T18:35:32.032] [ERROR] error - TypeError: Cannot read properties of undefined (reading 'username')
    at Producto.getAll (C:\Users\milog\Documents\32080\index.js:223:54)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
[2022-11-12T18:35:48.738] [ERROR] error - TypeError: doc.get is not a function
    at Carrito.getUserInfo (C:\Users\milog\Documents\32080\index.js:320:35)
    at Producto.getAll (C:\Users\milog\Documents\32080\index.js:223:37)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
[2022-11-12T18:36:19.793] [ERROR] error - ReferenceError: user is not defined
    at Producto.getAll (C:\Users\milog\Documents\32080\index.js:222:27)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
[2022-11-12T18:36:36.686] [ERROR] error - ReferenceError: user is not defined
    at Producto.getAll (C:\Users\milog\Documents\32080\index.js:222:27)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
[2022-11-12T18:36:57.588] [ERROR] error - ReferenceError: req is not defined
    at Producto.getAll (C:\Users\milog\Documents\32080\index.js:222:27)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
[2022-11-12T18:37:53.348] [ERROR] error - ReferenceError: req is not defined
    at Producto.getAll (C:\Users\milog\Documents\32080\index.js:222:24)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
[2022-11-12T18:39:53.521] [ERROR] error - ReferenceError: carro is not defined
    at Producto.getAll (C:\Users\milog\Documents\32080\index.js:224:25)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
[2022-11-12T18:40:03.382] [ERROR] error - ReferenceError: carro is not defined
    at Producto.getAll (C:\Users\milog\Documents\32080\index.js:224:25)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
[2022-11-12T18:40:04.979] [ERROR] error - ReferenceError: carro is not defined
    at Producto.getAll (C:\Users\milog\Documents\32080\index.js:224:25)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
[2022-11-12T18:40:23.586] [ERROR] error - ReferenceError: carro is not defined
    at Producto.getAll (C:\Users\milog\Documents\32080\index.js:224:25)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
[2022-11-12T18:40:24.744] [ERROR] error - ReferenceError: carro is not defined
    at Producto.getAll (C:\Users\milog\Documents\32080\index.js:224:25)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
[2022-11-12T18:42:38.593] [ERROR] error - Error: Value for argument "value" is not a valid query constraint. Cannot use "undefined" as a Firestore value. If you want to ignore undefined values, enable `ignoreUndefinedProperties`.
    at validateUserInput (C:\Users\milog\Documents\32080\node_modules\@google-cloud\firestore\build\src\serializer.js:279:19)
    at validateQueryValue (C:\Users\milog\Documents\32080\node_modules\@google-cloud\firestore\build\src\reference.js:2638:40)
    at CollectionReference.where (C:\Users\milog\Documents\32080\node_modules\@google-cloud\firestore\build\src\reference.js:1141:9)
    at Carrito.getUserInfo (C:\Users\milog\Documents\32080\index.js:318:29)
    at Producto.getAll (C:\Users\milog\Documents\32080\index.js:222:39)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
[2022-11-12T18:42:45.909] [ERROR] error - TypeError: doc.get is not a function
    at Carrito.getUserInfo (C:\Users\milog\Documents\32080\index.js:319:35)
    at Producto.getAll (C:\Users\milog\Documents\32080\index.js:222:39)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
[2022-11-12T18:42:48.839] [ERROR] error - TypeError: doc.get is not a function
    at Carrito.getUserInfo (C:\Users\milog\Documents\32080\index.js:319:35)
    at Producto.getAll (C:\Users\milog\Documents\32080\index.js:222:39)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
[2022-11-12T18:42:57.260] [ERROR] error - TypeError: doc.get is not a function
    at Carrito.getUserInfo (C:\Users\milog\Documents\32080\index.js:319:35)
    at Producto.getAll (C:\Users\milog\Documents\32080\index.js:222:39)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
[2022-11-12T18:44:02.265] [ERROR] error - TypeError: Cannot read properties of undefined (reading 'username')
    at Producto.getAll (C:\Users\milog\Documents\32080\index.js:222:56)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
[2022-11-12T18:44:40.284] [ERROR] error - ReferenceError: usuario is not defined
    at Producto.getAll (C:\Users\milog\Documents\32080\index.js:223:25)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
[2022-11-12T18:48:59.845] [ERROR] error - TypeError: doc.get is not a function
    at Carrito.getUserInfo (C:\Users\milog\Documents\32080\index.js:316:35)
    at C:\Users\milog\Documents\32080\index.js:530:10
    at Layer.handle [as handle_request] (C:\Users\milog\Documents\32080\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\milog\Documents\32080\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\milog\Documents\32080\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\milog\Documents\32080\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\milog\Documents\32080\node_modules\express\lib\router\index.js:284:15
    at Function.process_params (C:\Users\milog\Documents\32080\node_modules\express\lib\router\index.js:346:12)
    at next (C:\Users\milog\Documents\32080\node_modules\express\lib\router\index.js:280:10)
    at SessionStrategy.strategy.pass (C:\Users\milog\Documents\32080\node_modules\passport\lib\middleware\authenticate.js:343:9)
[2022-11-13T15:21:31.097] [ERROR] error - TypeError: query.whereField is not a function
    at Carrito.getUserInfo (C:\Users\milog\Documents\32080\index.js:315:29)
    at C:\Users\milog\Documents\32080\index.js:530:10
    at Layer.handle [as handle_request] (C:\Users\milog\Documents\32080\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\milog\Documents\32080\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\milog\Documents\32080\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\milog\Documents\32080\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\milog\Documents\32080\node_modules\express\lib\router\index.js:284:15
    at Function.process_params (C:\Users\milog\Documents\32080\node_modules\express\lib\router\index.js:346:12)
    at next (C:\Users\milog\Documents\32080\node_modules\express\lib\router\index.js:280:10)
    at SessionStrategy.strategy.pass (C:\Users\milog\Documents\32080\node_modules\passport\lib\middleware\authenticate.js:343:9)
[2022-11-13T16:05:14.275] [ERROR] error - ReferenceError: Cannot access 'user' before initialization
    at Producto.getAll (C:\Users\milog\Documents\32080\index.js:222:25)
    at C:\Users\milog\Documents\32080\index.js:411:10
    at Layer.handle [as handle_request] (C:\Users\milog\Documents\32080\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\milog\Documents\32080\node_modules\express\lib\router\route.js:144:13)
    at complete (C:\Users\milog\Documents\32080\node_modules\passport\lib\middleware\authenticate.js:268:13)
    at C:\Users\milog\Documents\32080\node_modules\passport\lib\middleware\authenticate.js:275:15
    at pass (C:\Users\milog\Documents\32080\node_modules\passport\lib\authenticator.js:431:14)
    at Authenticator.transformAuthInfo (C:\Users\milog\Documents\32080\node_modules\passport\lib\authenticator.js:453:5)
    at C:\Users\milog\Documents\32080\node_modules\passport\lib\middleware\authenticate.js:272:22
    at C:\Users\milog\Documents\32080\node_modules\passport\lib\http\request.js:52:7
[2022-11-13T16:07:24.647] [ERROR] error - TypeError: Cannot read properties of undefined (reading 'carrito')
    at Producto.getAll (C:\Users\milog\Documents\32080\index.js:223:27)
    at C:\Users\milog\Documents\32080\index.js:411:10
    at Layer.handle [as handle_request] (C:\Users\milog\Documents\32080\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\milog\Documents\32080\node_modules\express\lib\router\route.js:144:13)
    at complete (C:\Users\milog\Documents\32080\node_modules\passport\lib\middleware\authenticate.js:268:13)
    at C:\Users\milog\Documents\32080\node_modules\passport\lib\middleware\authenticate.js:275:15
    at pass (C:\Users\milog\Documents\32080\node_modules\passport\lib\authenticator.js:431:14)
    at Authenticator.transformAuthInfo (C:\Users\milog\Documents\32080\node_modules\passport\lib\authenticator.js:453:5)
    at C:\Users\milog\Documents\32080\node_modules\passport\lib\middleware\authenticate.js:272:22
    at C:\Users\milog\Documents\32080\node_modules\passport\lib\http\request.js:52:7
[2022-11-13T16:08:49.376] [ERROR] error - TypeError: Cannot read properties of undefined (reading 'userdata')
    at Producto.getAll (C:\Users\milog\Documents\32080\index.js:228:38)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
[2022-11-13T16:09:52.510] [ERROR] error - TypeError: Cannot read properties of undefined (reading 'userdata')
    at Producto.getAll (C:\Users\milog\Documents\32080\index.js:228:38)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
[2022-11-13T16:18:17.512] [ERROR] error - SyntaxError: Unexpected token _ in JSON at position 4
    at JSON.parse (<anonymous>)
    at Carrito.addProdByCartId (C:\Users\milog\Documents\32080\index.js:342:40)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
[2022-11-13T16:18:49.767] [ERROR] error - SyntaxError: Unexpected token _ in JSON at position 4
    at JSON.parse (<anonymous>)
    at Carrito.addProdByCartId (C:\Users\milog\Documents\32080\index.js:342:40)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
[2022-11-13T16:21:29.569] [ERROR] error - ReferenceError: obj is not defined
    at C:\Users\milog\Documents\32080\index.js:342:78
    at Array.map (<anonymous>)
    at Carrito.addProdByCartId (C:\Users\milog\Documents\32080\index.js:342:51)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
[2022-11-13T16:21:40.405] [ERROR] error - ReferenceError: obj is not defined
    at C:\Users\milog\Documents\32080\index.js:342:78
    at Array.map (<anonymous>)
    at Carrito.addProdByCartId (C:\Users\milog\Documents\32080\index.js:342:51)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
[2022-11-13T16:24:17.418] [ERROR] error - ReferenceError: obj is not defined
    at C:\Users\milog\Documents\32080\index.js:342:78
    at Array.map (<anonymous>)
    at Carrito.addProdByCartId (C:\Users\milog\Documents\32080\index.js:342:51)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
[2022-11-13T16:33:24.095] [ERROR] error - ReferenceError: productoAddJson is not defined
    at Carrito.addProdByCartId (C:\Users\milog\Documents\32080\index.js:345:66)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
[2022-11-13T16:33:38.964] [ERROR] error - Error: Element at index 0 is not a valid Firestore document. Couldn't serialize object of type "ObjectId" (found in field "_id"). Firestore doesn't support JavaScript objects with custom prototypes (i.e. objects that were created via the "new" operator).
    at validateUserInput (C:\Users\milog\Documents\32080\node_modules\@google-cloud\firestore\build\src\serializer.js:334:15)
    at validateUserInput (C:\Users\milog\Documents\32080\node_modules\@google-cloud\firestore\build\src\serializer.js:271:13)
    at validateArrayElement (C:\Users\milog\Documents\32080\node_modules\@google-cloud\firestore\build\src\field-value.js:459:40)
    at ArrayUnionTransform.validate (C:\Users\milog\Documents\32080\node_modules\@google-cloud\firestore\build\src\field-value.js:380:13)
    at C:\Users\milog\Documents\32080\node_modules\@google-cloud\firestore\build\src\document.js:858:56
    at Map.forEach (<anonymous>)
    at DocumentTransform.validate (C:\Users\milog\Documents\32080\node_modules\@google-cloud\firestore\build\src\document.js:858:25)
    at WriteBatch.update (C:\Users\milog\Documents\32080\node_modules\@google-cloud\firestore\build\src\write-batch.js:397:19)
    at DocumentReference.update (C:\Users\milog\Documents\32080\node_modules\@google-cloud\firestore\build\src\reference.js:430:14)
    at Carrito.addProdByCartId (C:\Users\milog\Documents\32080\index.js:344:36)
[2022-11-13T16:35:03.678] [ERROR] error - Error: Element at index 0 is not a valid Firestore document. Couldn't serialize object of type "ObjectId" (found in field "_id"). Firestore doesn't support JavaScript objects with custom prototypes (i.e. objects that were created via the "new" operator).
    at validateUserInput (C:\Users\milog\Documents\32080\node_modules\@google-cloud\firestore\build\src\serializer.js:334:15)
    at validateUserInput (C:\Users\milog\Documents\32080\node_modules\@google-cloud\firestore\build\src\serializer.js:271:13)
    at validateArrayElement (C:\Users\milog\Documents\32080\node_modules\@google-cloud\firestore\build\src\field-value.js:459:40)
    at ArrayUnionTransform.validate (C:\Users\milog\Documents\32080\node_modules\@google-cloud\firestore\build\src\field-value.js:380:13)
    at C:\Users\milog\Documents\32080\node_modules\@google-cloud\firestore\build\src\document.js:858:56
    at Map.forEach (<anonymous>)
    at DocumentTransform.validate (C:\Users\milog\Documents\32080\node_modules\@google-cloud\firestore\build\src\document.js:858:25)
    at WriteBatch.update (C:\Users\milog\Documents\32080\node_modules\@google-cloud\firestore\build\src\write-batch.js:397:19)
    at DocumentReference.update (C:\Users\milog\Documents\32080\node_modules\@google-cloud\firestore\build\src\reference.js:430:14)
    at Carrito.addProdByCartId (C:\Users\milog\Documents\32080\index.js:344:36)
[2022-11-13T16:43:11.645] [ERROR] error - Error: Element at index 0 is not a valid array element. Nested arrays are not supported.
    at validateArrayElement (C:\Users\milog\Documents\32080\node_modules\@google-cloud\firestore\build\src\field-value.js:457:15)
    at ArrayUnionTransform.validate (C:\Users\milog\Documents\32080\node_modules\@google-cloud\firestore\build\src\field-value.js:380:13)
    at C:\Users\milog\Documents\32080\node_modules\@google-cloud\firestore\build\src\document.js:858:56
    at Map.forEach (<anonymous>)
    at DocumentTransform.validate (C:\Users\milog\Documents\32080\node_modules\@google-cloud\firestore\build\src\document.js:858:25)
    at WriteBatch.update (C:\Users\milog\Documents\32080\node_modules\@google-cloud\firestore\build\src\write-batch.js:397:19)
    at DocumentReference.update (C:\Users\milog\Documents\32080\node_modules\@google-cloud\firestore\build\src\reference.js:430:14)
    at Carrito.addProdByCartId (C:\Users\milog\Documents\32080\index.js:349:36)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
[2022-11-13T16:48:00.933] [ERROR] error - ReferenceError: data is not defined
    at Carrito.saveNewCart (C:\Users\milog\Documents\32080\index.js:290:13)
    at C:\Users\milog\Documents\32080\index.js:449:10
    at Layer.handle [as handle_request] (C:\Users\milog\Documents\32080\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\milog\Documents\32080\node_modules\express\lib\router\route.js:144:13)
    at complete (C:\Users\milog\Documents\32080\node_modules\passport\lib\middleware\authenticate.js:268:13)
    at C:\Users\milog\Documents\32080\node_modules\passport\lib\middleware\authenticate.js:275:15
    at pass (C:\Users\milog\Documents\32080\node_modules\passport\lib\authenticator.js:431:14)
    at Authenticator.transformAuthInfo (C:\Users\milog\Documents\32080\node_modules\passport\lib\authenticator.js:453:5)
    at C:\Users\milog\Documents\32080\node_modules\passport\lib\middleware\authenticate.js:272:22
    at C:\Users\milog\Documents\32080\node_modules\passport\lib\http\request.js:52:7
[2022-11-13T16:48:01.206] [ERROR] error - TypeError: Cannot read properties of undefined (reading 'productos')
    at Carrito.getUserInfo (C:\Users\milog\Documents\32080\index.js:337:36)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
    at async Producto.getAll (C:\Users\milog\Documents\32080\index.js:226:28)
[2022-11-13T16:48:01.207] [ERROR] error - TypeError: Cannot read properties of undefined (reading 'userdata')
    at Producto.getAll (C:\Users\milog\Documents\32080\index.js:228:38)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
[2022-11-13T16:50:25.446] [ERROR] error - TypeError: Cannot read properties of undefined (reading 'productos')
    at Carrito.getUserInfo (C:\Users\milog\Documents\32080\index.js:337:36)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
    at async Producto.getAll (C:\Users\milog\Documents\32080\index.js:226:28)
[2022-11-13T16:50:25.448] [ERROR] error - TypeError: Cannot read properties of undefined (reading 'userdata')
    at Producto.getAll (C:\Users\milog\Documents\32080\index.js:228:38)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
[2022-11-13T16:51:04.447] [ERROR] error - TypeError: Cannot read properties of undefined (reading 'productos')
    at Carrito.getUserInfo (C:\Users\milog\Documents\32080\index.js:337:36)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
    at async Producto.getAll (C:\Users\milog\Documents\32080\index.js:226:28)
[2022-11-13T16:51:04.448] [ERROR] error - TypeError: Cannot read properties of undefined (reading 'userdata')
    at Producto.getAll (C:\Users\milog\Documents\32080\index.js:228:38)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
[2022-11-13T16:51:32.549] [ERROR] error - TypeError: Cannot read properties of undefined (reading 'productos')
    at Carrito.getUserInfo (C:\Users\milog\Documents\32080\index.js:337:36)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
    at async Producto.getAll (C:\Users\milog\Documents\32080\index.js:226:28)
[2022-11-13T16:51:32.551] [ERROR] error - TypeError: Cannot read properties of undefined (reading 'userdata')
    at Producto.getAll (C:\Users\milog\Documents\32080\index.js:228:38)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
[2022-11-13T16:52:24.723] [ERROR] error - ReferenceError: data is not defined
    at Carrito.saveNewCart (C:\Users\milog\Documents\32080\index.js:290:13)
    at C:\Users\milog\Documents\32080\index.js:449:10
    at Layer.handle [as handle_request] (C:\Users\milog\Documents\32080\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\milog\Documents\32080\node_modules\express\lib\router\route.js:144:13)
    at complete (C:\Users\milog\Documents\32080\node_modules\passport\lib\middleware\authenticate.js:268:13)
    at C:\Users\milog\Documents\32080\node_modules\passport\lib\middleware\authenticate.js:275:15
    at pass (C:\Users\milog\Documents\32080\node_modules\passport\lib\authenticator.js:431:14)
    at Authenticator.transformAuthInfo (C:\Users\milog\Documents\32080\node_modules\passport\lib\authenticator.js:453:5)
    at C:\Users\milog\Documents\32080\node_modules\passport\lib\middleware\authenticate.js:272:22
    at C:\Users\milog\Documents\32080\node_modules\passport\lib\http\request.js:52:7
[2022-11-13T16:52:25.059] [ERROR] error - TypeError: Cannot read properties of undefined (reading 'productos')
    at Carrito.getUserInfo (C:\Users\milog\Documents\32080\index.js:337:36)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
    at async Producto.getAll (C:\Users\milog\Documents\32080\index.js:226:28)
[2022-11-13T16:52:25.060] [ERROR] error - TypeError: Cannot read properties of undefined (reading 'userdata')
    at Producto.getAll (C:\Users\milog\Documents\32080\index.js:228:38)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
[2022-11-13T16:59:35.696] [ERROR] error - TypeError: Cannot read properties of undefined (reading 'productos')
    at Carrito.getUserInfo (C:\Users\milog\Documents\32080\index.js:337:36)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
    at async Producto.getAll (C:\Users\milog\Documents\32080\index.js:226:28)
[2022-11-13T16:59:35.697] [ERROR] error - TypeError: Cannot read properties of undefined (reading 'userdata')
    at Producto.getAll (C:\Users\milog\Documents\32080\index.js:228:38)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
[2022-11-13T16:59:47.619] [ERROR] error - TypeError: Cannot read properties of undefined (reading 'productos')
    at Carrito.getUserInfo (C:\Users\milog\Documents\32080\index.js:337:36)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
    at async Producto.getAll (C:\Users\milog\Documents\32080\index.js:226:28)
[2022-11-13T16:59:47.620] [ERROR] error - TypeError: Cannot read properties of undefined (reading 'userdata')
    at Producto.getAll (C:\Users\milog\Documents\32080\index.js:228:38)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
[2022-11-13T18:31:17.437] [ERROR] error - Error: 6 ALREADY_EXISTS: Document already exists: projects/fireback-addcb/databases/(default)/documents/carritos/7
    at Object.callErrorFromStatus (C:\Users\milog\Documents\32080\node_modules\@grpc\grpc-js\build\src\call.js:31:19)
    at Object.onReceiveStatus (C:\Users\milog\Documents\32080\node_modules\@grpc\grpc-js\build\src\client.js:195:52)
    at Object.onReceiveStatus (C:\Users\milog\Documents\32080\node_modules\@grpc\grpc-js\build\src\client-interceptors.js:365:141)
    at Object.onReceiveStatus (C:\Users\milog\Documents\32080\node_modules\@grpc\grpc-js\build\src\client-interceptors.js:328:181)
    at C:\Users\milog\Documents\32080\node_modules\@grpc\grpc-js\build\src\call-stream.js:188:78
    at processTicksAndRejections (node:internal/process/task_queues:78:11)
for call at
    at ServiceClientImpl.makeUnaryRequest (C:\Users\milog\Documents\32080\node_modules\@grpc\grpc-js\build\src\client.js:163:34)
    at ServiceClientImpl.<anonymous> (C:\Users\milog\Documents\32080\node_modules\@grpc\grpc-js\build\src\make-client.js:105:19)
    at C:\Users\milog\Documents\32080\node_modules\@google-cloud\firestore\build\src\v1\firestore_client.js:225:29
    at C:\Users\milog\Documents\32080\node_modules\google-gax\build\src\normalCalls\timeout.js:44:16
    at repeat (C:\Users\milog\Documents\32080\node_modules\google-gax\build\src\normalCalls\retries.js:80:25)
    at C:\Users\milog\Documents\32080\node_modules\google-gax\build\src\normalCalls\retries.js:118:13
    at OngoingCallPromise.call (C:\Users\milog\Documents\32080\node_modules\google-gax\build\src\call.js:67:27)
    at NormalApiCaller.call (C:\Users\milog\Documents\32080\node_modules\google-gax\build\src\normalCalls\normalApiCaller.js:34:19)
    at C:\Users\milog\Documents\32080\node_modules\google-gax\build\src\createApiCall.js:84:30
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
Caused by: Error
    at WriteBatch.commit (C:\Users\milog\Documents\32080\node_modules\@google-cloud\firestore\build\src\write-batch.js:433:23)
    at DocumentReference.create (C:\Users\milog\Documents\32080\node_modules\@google-cloud\firestore\build\src\reference.js:319:14)
    at Carrito.saveNewCart (C:\Users\milog\Documents\32080\index.js:310:37)
    at C:\Users\milog\Documents\32080\index.js:473:10
    at Layer.handle [as handle_request] (C:\Users\milog\Documents\32080\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\milog\Documents\32080\node_modules\express\lib\router\route.js:144:13)
    at complete (C:\Users\milog\Documents\32080\node_modules\passport\lib\middleware\authenticate.js:268:13)
    at C:\Users\milog\Documents\32080\node_modules\passport\lib\middleware\authenticate.js:275:15
    at pass (C:\Users\milog\Documents\32080\node_modules\passport\lib\authenticator.js:431:14)
    at Authenticator.transformAuthInfo (C:\Users\milog\Documents\32080\node_modules\passport\lib\authenticator.js:453:5) {
  code: 6,
  details: 'Document already exists: projects/fireback-addcb/databases/(default)/documents/carritos/7',
  metadata: Metadata { internalRepr: Map(0) {}, options: {} },
  note: 'Exception occurred in retry method that was not classified as transient'
}
[2022-11-13T18:33:23.016] [ERROR] error - ReferenceError: avatar is not defined
    at Carrito.saveAvatar (C:\Users\milog\Documents\32080\index.js:319:13)
    at C:\Users\milog\Documents\32080\index.js:609:10
    at Layer.handle [as handle_request] (C:\Users\milog\Documents\32080\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\milog\Documents\32080\node_modules\express\lib\router\route.js:144:13)
    at done (C:\Users\milog\Documents\32080\node_modules\multer\lib\make-middleware.js:45:7)
    at indicateDone (C:\Users\milog\Documents\32080\node_modules\multer\lib\make-middleware.js:49:68)
    at C:\Users\milog\Documents\32080\node_modules\multer\lib\make-middleware.js:155:11
    at WriteStream.<anonymous> (C:\Users\milog\Documents\32080\node_modules\multer\storage\disk.js:43:9)
    at WriteStream.emit (node:events:539:35)
    at finish (node:internal/streams/writable:754:10)
[2022-11-13T18:39:29.139] [ERROR] error - Error: Element at index 0 is not a valid array element. Nested arrays are not supported.
    at validateArrayElement (C:\Users\milog\Documents\32080\node_modules\@google-cloud\firestore\build\src\field-value.js:457:15)
    at ArrayUnionTransform.validate (C:\Users\milog\Documents\32080\node_modules\@google-cloud\firestore\build\src\field-value.js:380:13)
    at C:\Users\milog\Documents\32080\node_modules\@google-cloud\firestore\build\src\document.js:858:56
    at Map.forEach (<anonymous>)
    at DocumentTransform.validate (C:\Users\milog\Documents\32080\node_modules\@google-cloud\firestore\build\src\document.js:858:25)
    at WriteBatch.update (C:\Users\milog\Documents\32080\node_modules\@google-cloud\firestore\build\src\write-batch.js:397:19)
    at DocumentReference.update (C:\Users\milog\Documents\32080\node_modules\@google-cloud\firestore\build\src\reference.js:430:14)
    at Carrito.saveAvatar (C:\Users\milog\Documents\32080\index.js:324:36)
    at C:\Users\milog\Documents\32080\index.js:610:10
    at Layer.handle [as handle_request] (C:\Users\milog\Documents\32080\node_modules\express\lib\router\layer.js:95:5)
[2022-11-13T18:48:43.281] [ERROR] error - TypeError: doc.get(...).data is not a function
    at Carrito.saveAvatar (C:\Users\milog\Documents\32080\index.js:324:38)
    at C:\Users\milog\Documents\32080\index.js:612:10
    at Layer.handle [as handle_request] (C:\Users\milog\Documents\32080\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\milog\Documents\32080\node_modules\express\lib\router\route.js:144:13)
    at done (C:\Users\milog\Documents\32080\node_modules\multer\lib\make-middleware.js:45:7)
    at indicateDone (C:\Users\milog\Documents\32080\node_modules\multer\lib\make-middleware.js:49:68)
    at C:\Users\milog\Documents\32080\node_modules\multer\lib\make-middleware.js:155:11
    at WriteStream.<anonymous> (C:\Users\milog\Documents\32080\node_modules\multer\storage\disk.js:43:9)
    at WriteStream.emit (node:events:539:35)
    at finish (node:internal/streams/writable:754:10)
[2022-11-13T18:49:59.327] [ERROR] error - ReferenceError: carro is not defined
    at Carrito.saveAvatar (C:\Users\milog\Documents\32080\index.js:325:31)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
[2022-11-13T19:07:56.789] [ERROR] error - ReferenceError: userdata is not defined
    at Producto.getAll (C:\Users\milog\Documents\32080\index.js:240:25)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
[2022-11-13T19:08:17.224] [ERROR] error - TypeError: Cannot read properties of undefined (reading 'productos')
    at Carrito.getUserInfo (C:\Users\milog\Documents\32080\index.js:361:36)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
    at async Producto.getAll (C:\Users\milog\Documents\32080\index.js:237:28)
[2022-11-13T19:08:17.225] [ERROR] error - TypeError: Cannot read properties of undefined (reading 'userdata')
    at Producto.getAll (C:\Users\milog\Documents\32080\index.js:239:38)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
[2022-11-13T19:55:11.486] [ERROR] error - ReferenceError: id is not defined
    at Generador.popular (C:\Users\milog\Documents\32080\index.js:197:52)
    at C:\Users\milog\Documents\32080\index.js:543:18
    at Layer.handle [as handle_request] (C:\Users\milog\Documents\32080\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\milog\Documents\32080\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\milog\Documents\32080\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\milog\Documents\32080\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\milog\Documents\32080\node_modules\express\lib\router\index.js:284:15
    at Function.process_params (C:\Users\milog\Documents\32080\node_modules\express\lib\router\index.js:346:12)
    at next (C:\Users\milog\Documents\32080\node_modules\express\lib\router\index.js:280:10)
    at SessionStrategy.strategy.pass (C:\Users\milog\Documents\32080\node_modules\passport\lib\middleware\authenticate.js:343:9)
[2022-11-13T20:00:27.469] [ERROR] error - ReferenceError: id is not defined
    at Generador.popular (C:\Users\milog\Documents\32080\index.js:197:52)
    at C:\Users\milog\Documents\32080\index.js:543:18
    at Layer.handle [as handle_request] (C:\Users\milog\Documents\32080\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\milog\Documents\32080\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\milog\Documents\32080\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\milog\Documents\32080\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\milog\Documents\32080\node_modules\express\lib\router\index.js:284:15
    at Function.process_params (C:\Users\milog\Documents\32080\node_modules\express\lib\router\index.js:346:12)
    at next (C:\Users\milog\Documents\32080\node_modules\express\lib\router\index.js:280:10)
    at SessionStrategy.strategy.pass (C:\Users\milog\Documents\32080\node_modules\passport\lib\middleware\authenticate.js:343:9)
[2022-11-13T20:15:41.187] [ERROR] error - TypeError: Cannot read properties of undefined (reading 'productos')
    at Carrito.getUserInfo (C:\Users\milog\Documents\32080\index.js:318:36)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
    at async Producto.getAll (C:\Users\milog\Documents\32080\index.js:194:28)
[2022-11-13T20:15:41.188] [ERROR] error - TypeError: Cannot read properties of undefined (reading 'userdata')
    at Producto.getAll (C:\Users\milog\Documents\32080\index.js:196:38)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
[2022-11-13T20:23:10.485] [ERROR] error - TypeError: Cannot read properties of undefined (reading 'productos')
    at Carrito.getUserInfo (C:\Users\milog\Documents\32080\index.js:318:36)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
    at async Producto.getAll (C:\Users\milog\Documents\32080\index.js:194:28)
[2022-11-13T20:23:10.486] [ERROR] error - TypeError: Cannot read properties of undefined (reading 'userdata')
    at Producto.getAll (C:\Users\milog\Documents\32080\index.js:196:38)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
[2022-11-13T20:50:18.815] [ERROR] error - TypeError: Cannot set properties of undefined (setting 'id')
    at Carrito.getUserInfo (C:\Users\milog\Documents\32080\index.js:321:35)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
    at async Producto.getAll (C:\Users\milog\Documents\32080\index.js:194:28)
[2022-11-13T20:50:18.816] [ERROR] error - TypeError: Cannot read properties of undefined (reading 'userdata')
    at Producto.getAll (C:\Users\milog\Documents\32080\index.js:196:38)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
[2022-11-13T20:50:38.639] [ERROR] error - TypeError: Cannot set properties of undefined (setting 'id')
    at Carrito.getUserInfo (C:\Users\milog\Documents\32080\index.js:321:35)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
    at async Producto.getAll (C:\Users\milog\Documents\32080\index.js:194:28)
[2022-11-13T20:50:38.640] [ERROR] error - TypeError: Cannot read properties of undefined (reading 'userdata')
    at Producto.getAll (C:\Users\milog\Documents\32080\index.js:196:38)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
[2022-11-13T20:50:56.573] [ERROR] error - TypeError: Cannot set properties of undefined (setting 'id')
    at Carrito.getUserInfo (C:\Users\milog\Documents\32080\index.js:321:35)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
    at async Producto.getAll (C:\Users\milog\Documents\32080\index.js:194:28)
[2022-11-13T20:50:56.574] [ERROR] error - TypeError: Cannot read properties of undefined (reading 'userdata')
    at Producto.getAll (C:\Users\milog\Documents\32080\index.js:196:38)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
[2022-11-13T21:06:50.566] [ERROR] error - TypeError: Cannot read properties of undefined (reading 'productos')
    at Carrito.getUserInfo (C:\Users\milog\Documents\32080\index.js:318:36)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
    at async Producto.getAll (C:\Users\milog\Documents\32080\index.js:193:28)
[2022-11-13T21:06:50.567] [ERROR] error - TypeError: Cannot read properties of undefined (reading 'userdata')
    at Producto.getAll (C:\Users\milog\Documents\32080\index.js:195:38)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
[2022-11-13T21:07:23.941] [ERROR] error - TypeError: Cannot read properties of undefined (reading 'productos')
    at Carrito.getUserInfo (C:\Users\milog\Documents\32080\index.js:318:36)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
    at async Producto.getAll (C:\Users\milog\Documents\32080\index.js:193:28)
[2022-11-13T21:07:23.941] [ERROR] error - TypeError: Cannot read properties of undefined (reading 'userdata')
    at Producto.getAll (C:\Users\milog\Documents\32080\index.js:195:38)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
[2022-11-13T21:07:25.056] [ERROR] error - TypeError: Cannot read properties of undefined (reading 'productos')
    at Carrito.getUserInfo (C:\Users\milog\Documents\32080\index.js:318:36)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
    at async Producto.getAll (C:\Users\milog\Documents\32080\index.js:193:28)
[2022-11-13T21:07:25.057] [ERROR] error - TypeError: Cannot read properties of undefined (reading 'userdata')
    at Producto.getAll (C:\Users\milog\Documents\32080\index.js:195:38)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
[2022-11-13T21:07:25.933] [ERROR] error - TypeError: Cannot read properties of undefined (reading 'productos')
    at Carrito.getUserInfo (C:\Users\milog\Documents\32080\index.js:318:36)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
    at async Producto.getAll (C:\Users\milog\Documents\32080\index.js:193:28)
[2022-11-13T21:07:25.934] [ERROR] error - TypeError: Cannot read properties of undefined (reading 'userdata')
    at Producto.getAll (C:\Users\milog\Documents\32080\index.js:195:38)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
[2022-11-13T21:07:26.591] [ERROR] error - TypeError: Cannot read properties of undefined (reading 'productos')
    at Carrito.getUserInfo (C:\Users\milog\Documents\32080\index.js:318:36)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
    at async Producto.getAll (C:\Users\milog\Documents\32080\index.js:193:28)
[2022-11-13T21:07:26.592] [ERROR] error - TypeError: Cannot read properties of undefined (reading 'userdata')
    at Producto.getAll (C:\Users\milog\Documents\32080\index.js:195:38)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
[2022-11-13T21:08:48.208] [ERROR] error - TypeError: Cannot read properties of undefined (reading 'find')
    at Carrito.getUserInfo (C:\Users\milog\Documents\32080\index.js:322:36)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
    at async Producto.getAll (C:\Users\milog\Documents\32080\index.js:193:28)
[2022-11-13T21:08:48.209] [ERROR] error - TypeError: Cannot read properties of undefined (reading 'userdata')
    at Producto.getAll (C:\Users\milog\Documents\32080\index.js:195:38)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
[2022-11-13T21:09:04.490] [ERROR] error - TypeError: Cannot read properties of undefined (reading 'find')
    at Carrito.getUserInfo (C:\Users\milog\Documents\32080\index.js:322:36)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
[2022-11-13T21:09:11.807] [ERROR] error - TypeError: Cannot read properties of undefined (reading 'find')
    at Carrito.getUserInfo (C:\Users\milog\Documents\32080\index.js:322:36)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
    at async Producto.getAll (C:\Users\milog\Documents\32080\index.js:193:28)
[2022-11-13T21:09:11.808] [ERROR] error - TypeError: Cannot read properties of undefined (reading 'userdata')
    at Producto.getAll (C:\Users\milog\Documents\32080\index.js:195:38)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
[2022-11-13T21:09:17.374] [ERROR] error - TypeError: Cannot read properties of undefined (reading 'find')
    at Carrito.getUserInfo (C:\Users\milog\Documents\32080\index.js:322:36)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
[2022-11-13T21:10:23.116] [ERROR] error - TypeError: userAvat.find is not a function
    at Carrito.getUserInfo (C:\Users\milog\Documents\32080\index.js:322:36)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
[2022-11-13T21:10:24.556] [ERROR] error - TypeError: userAvat.find is not a function
    at Carrito.getUserInfo (C:\Users\milog\Documents\32080\index.js:322:36)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
    at async Producto.getAll (C:\Users\milog\Documents\32080\index.js:193:28)
[2022-11-13T21:10:24.557] [ERROR] error - TypeError: Cannot read properties of undefined (reading 'userdata')
    at Producto.getAll (C:\Users\milog\Documents\32080\index.js:195:38)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
[2022-11-13T21:10:29.022] [ERROR] error - TypeError: userAvat.find is not a function
    at Carrito.getUserInfo (C:\Users\milog\Documents\32080\index.js:322:36)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
[2022-11-13T21:10:30.511] [ERROR] error - TypeError: userAvat.find is not a function
    at Carrito.getUserInfo (C:\Users\milog\Documents\32080\index.js:322:36)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
    at async Producto.getAll (C:\Users\milog\Documents\32080\index.js:193:28)
[2022-11-13T21:10:30.512] [ERROR] error - TypeError: Cannot read properties of undefined (reading 'userdata')
    at Producto.getAll (C:\Users\milog\Documents\32080\index.js:195:38)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
[2022-11-13T21:10:36.374] [ERROR] error - TypeError: userAvat.find is not a function
    at Carrito.getUserInfo (C:\Users\milog\Documents\32080\index.js:322:36)
    at runMicrotasks (<anonymous>)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
    at async Producto.getAll (C:\Users\milog\Documents\32080\index.js:193:28)
[2022-11-13T21:10:36.375] [ERROR] error - TypeError: Cannot read properties of undefined (reading 'userdata')
    at Producto.getAll (C:\Users\milog\Documents\32080\index.js:195:38)
    at runMicrotasks (<anonymous>)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
[2022-11-13T21:10:40.866] [ERROR] error - TypeError: userAvat.find is not a function
    at Carrito.getUserInfo (C:\Users\milog\Documents\32080\index.js:322:36)
    at runMicrotasks (<anonymous>)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
    at async Producto.getAll (C:\Users\milog\Documents\32080\index.js:193:28)
[2022-11-13T21:10:40.867] [ERROR] error - TypeError: Cannot read properties of undefined (reading 'userdata')
    at Producto.getAll (C:\Users\milog\Documents\32080\index.js:195:38)
    at runMicrotasks (<anonymous>)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
[2022-11-13T21:10:41.745] [ERROR] error - TypeError: userAvat.find is not a function
    at Carrito.getUserInfo (C:\Users\milog\Documents\32080\index.js:322:36)
    at runMicrotasks (<anonymous>)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
[2022-11-13T21:10:42.534] [ERROR] error - TypeError: userAvat.find is not a function
    at Carrito.getUserInfo (C:\Users\milog\Documents\32080\index.js:322:36)
    at runMicrotasks (<anonymous>)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
[2022-11-13T21:10:43.419] [ERROR] error - TypeError: userAvat.find is not a function
    at Carrito.getUserInfo (C:\Users\milog\Documents\32080\index.js:322:36)
    at runMicrotasks (<anonymous>)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
[2022-11-13T21:13:22.352] [ERROR] error - TypeError: Cannot read properties of undefined (reading 'productos')
    at Carrito.getUserInfo (C:\Users\milog\Documents\32080\index.js:319:36)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
    at async Producto.getAll (C:\Users\milog\Documents\32080\index.js:193:28)
[2022-11-13T21:13:22.353] [ERROR] error - TypeError: Cannot read properties of undefined (reading 'userdata')
    at Producto.getAll (C:\Users\milog\Documents\32080\index.js:195:38)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
[2022-11-13T21:22:52.743] [ERROR] error - Error: Element at index 0 is not a valid array element. Cannot use "undefined" as a Firestore value. If you want to ignore undefined values, enable `ignoreUndefinedProperties`.
    at validateUserInput (C:\Users\milog\Documents\32080\node_modules\@google-cloud\firestore\build\src\serializer.js:279:19)
    at validateArrayElement (C:\Users\milog\Documents\32080\node_modules\@google-cloud\firestore\build\src\field-value.js:459:40)
    at ArrayUnionTransform.validate (C:\Users\milog\Documents\32080\node_modules\@google-cloud\firestore\build\src\field-value.js:380:13)
    at C:\Users\milog\Documents\32080\node_modules\@google-cloud\firestore\build\src\document.js:858:56
    at Map.forEach (<anonymous>)
    at DocumentTransform.validate (C:\Users\milog\Documents\32080\node_modules\@google-cloud\firestore\build\src\document.js:858:25)
    at WriteBatch.update (C:\Users\milog\Documents\32080\node_modules\@google-cloud\firestore\build\src\write-batch.js:397:19)
    at DocumentReference.update (C:\Users\milog\Documents\32080\node_modules\@google-cloud\firestore\build\src\reference.js:430:14)
    at Carrito.addProdByCartId (C:\Users\milog\Documents\32080\index.js:339:36)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
[2022-11-13T21:24:18.656] [ERROR] error - Error: Element at index 0 is not a valid array element. Cannot use "undefined" as a Firestore value. If you want to ignore undefined values, enable `ignoreUndefinedProperties`.
    at validateUserInput (C:\Users\milog\Documents\32080\node_modules\@google-cloud\firestore\build\src\serializer.js:279:19)
    at validateArrayElement (C:\Users\milog\Documents\32080\node_modules\@google-cloud\firestore\build\src\field-value.js:459:40)
    at ArrayUnionTransform.validate (C:\Users\milog\Documents\32080\node_modules\@google-cloud\firestore\build\src\field-value.js:380:13)
    at C:\Users\milog\Documents\32080\node_modules\@google-cloud\firestore\build\src\document.js:858:56
    at Map.forEach (<anonymous>)
    at DocumentTransform.validate (C:\Users\milog\Documents\32080\node_modules\@google-cloud\firestore\build\src\document.js:858:25)
    at WriteBatch.update (C:\Users\milog\Documents\32080\node_modules\@google-cloud\firestore\build\src\write-batch.js:397:19)
    at DocumentReference.update (C:\Users\milog\Documents\32080\node_modules\@google-cloud\firestore\build\src\reference.js:430:14)
    at Carrito.addProdByCartId (C:\Users\milog\Documents\32080\index.js:339:36)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
[2022-11-14T19:17:18.831] [ERROR] error - ReferenceError: html is not defined
    at C:\Users\milog\Documents\32080\index.js:368:36
    at Array.forEach (<anonymous>)
    at Carrito.sendUserCart (C:\Users\milog\Documents\32080\index.js:359:23)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
[2022-11-14T19:57:46.699] [ERROR] error - RestException [Error]: Invalid From and To pair. From and To should be of the same channel
    at success (C:\Users\milog\Documents\32080\node_modules\twilio\lib\base\Version.js:135:15)
    at Promise_then_fulfilled (C:\Users\milog\Documents\32080\node_modules\q\q.js:766:44)
    at Promise_done_fulfilled (C:\Users\milog\Documents\32080\node_modules\q\q.js:835:31)
    at Fulfilled_dispatch [as dispatch] (C:\Users\milog\Documents\32080\node_modules\q\q.js:1229:9)
    at Pending_become_eachMessage_task (C:\Users\milog\Documents\32080\node_modules\q\q.js:1369:30)
    at RawTask.call (C:\Users\milog\Documents\32080\node_modules\asap\asap.js:40:19)
    at flush (C:\Users\milog\Documents\32080\node_modules\asap\raw.js:50:29)
    at processTicksAndRejections (node:internal/process/task_queues:78:11) {
  status: 400,
  code: 21910,
  moreInfo: 'https://www.twilio.com/docs/errors/21910',
  details: undefined
}
[2022-11-14T19:58:43.604] [ERROR] error - RestException [Error]: Twilio could not find a Channel with the specified From address
    at success (C:\Users\milog\Documents\32080\node_modules\twilio\lib\base\Version.js:135:15)
    at Promise_then_fulfilled (C:\Users\milog\Documents\32080\node_modules\q\q.js:766:44)
    at Promise_done_fulfilled (C:\Users\milog\Documents\32080\node_modules\q\q.js:835:31)
    at Fulfilled_dispatch [as dispatch] (C:\Users\milog\Documents\32080\node_modules\q\q.js:1229:9)
    at Pending_become_eachMessage_task (C:\Users\milog\Documents\32080\node_modules\q\q.js:1369:30)
    at RawTask.call (C:\Users\milog\Documents\32080\node_modules\asap\asap.js:40:19)
    at flush (C:\Users\milog\Documents\32080\node_modules\asap\raw.js:50:29)
    at processTicksAndRejections (node:internal/process/task_queues:78:11) {
  status: 400,
  code: 63007,
  moreInfo: 'https://www.twilio.com/docs/errors/63007',
  details: undefined
}
[2022-11-14T22:00:34.231] [ERROR] error - TypeError: Cannot read properties of undefined (reading 'find')
    at Carrito.getUserInfo (C:\Users\milog\Documents\32080\index.js:340:36)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
    at async Producto.getAll (C:\Users\milog\Documents\32080\index.js:208:28)
[2022-11-14T22:00:34.233] [ERROR] error - TypeError: Cannot read properties of undefined (reading 'userdata')
    at Producto.getAll (C:\Users\milog\Documents\32080\index.js:210:38)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
[2022-11-14T22:00:55.433] [ERROR] error - TypeError: Cannot read properties of undefined (reading 'find')
    at Carrito.getUserInfo (C:\Users\milog\Documents\32080\index.js:340:36)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
    at async Producto.getAll (C:\Users\milog\Documents\32080\index.js:208:28)
[2022-11-14T22:00:55.434] [ERROR] error - TypeError: Cannot read properties of undefined (reading 'userdata')
    at Producto.getAll (C:\Users\milog\Documents\32080\index.js:210:38)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
[2022-11-14T22:01:04.732] [ERROR] error - TypeError: Cannot read properties of undefined (reading 'find')
    at Carrito.getUserInfo (C:\Users\milog\Documents\32080\index.js:340:36)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
    at async Producto.getAll (C:\Users\milog\Documents\32080\index.js:208:28)
[2022-11-14T22:01:04.733] [ERROR] error - TypeError: Cannot read properties of undefined (reading 'userdata')
    at Producto.getAll (C:\Users\milog\Documents\32080\index.js:210:38)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
